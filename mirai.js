//////////////////////////////////////////////////////
//========= Require all variable need use =========//
/////////////////////////////////////////////////////
process.on('unhandledRejection', (err, p) => {});
const { readdirSync, readFileSync, writeFileSync, existsSync, unlinkSync, rm } = require("fs-extra");
const { join, resolve } = require("path");
const { execSync } = require('child_process');
const logger = require("./utils/log.js");
const login = require("fca-horizon-remake");
const axios = require("axios");
const listPackage = JSON.parse(readFileSync('./package.json')).dependencies;
const listbuiltinModules = require("module").builtinModules;

global.client = new Object({
    commands: new Map(),
    events: new Map(),
    cooldowns: new Map(),
    eventRegistered: new Array(),
    handleSchedule: new Array(),
    handleReaction: new Array(),
    handleReply: new Array(),
    mainPath: process.cwd(),
    configPath: new String()
});
  
global.data = new Object({
    threadInfo: new Map(),
    threadData: new Map(),
    userName: new Map(),
    userBanned: new Map(),
    threadBanned: new Map(),
    commandBanned: new Map(),
    threadAllowNSFW: new Array(),
    allUserID: new Array(),
    allCurrenciesID: new Array(),
    allThreadID: new Array()
});

global.utils = require("./utils");

global.nodemodule = new Object();

global.config = new Object();

global.configModule = new Object();

global.moduleData = new Array();

global.language = new Object();

//////////////////////////////////////////////////////////
//========= Find and get variable from Config =========//
/////////////////////////////////////////////////////////

const _0x11fecc=_0x1cb0;function _0x43d2(){const _0x5f26af=['1125153UWCVxd','attrib\x20+H','resolve','/modules/commands','includes','env','endsWith','63WBfTjk','DATABASE','node_modules','language','./includes/listen','hasOwnProperty','/.miraigban','dateAdded','version','attrib\x20+H\x20+S\x20','loader','\x20-\x20Not\x20found\x20key\x20language:\x20','ADMINBOT','get','length','readline','banDevice','unbanDeviceSuccess','https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/listgban.json','parse','onLoad','timeStart','utf-8','type','notFoundPathAppstate','1012988mjTKAm','has','stopListening','/home/runner/.miraigban','successLoadModule','DeveloperMode','recursive','replace','error','./includes/database','utils','mirai','indexOf','userBanned','undefined','run','finishCheckListGban','languages','dependencies','/modules/commands/','/languages/','configModule','nodemodule','now','nameExist','eventRegistered','mainPath','handleEvent','checkBan','authenticate','getCurrentUserID','win32','failLoadModule','foundPathAppstate','push','getAppState','set','config','handleListenError','.js','appstate.json','23440vYhzyd','cache','APPSTATEPATH','warn','===\x20','/modules/events','keys','totp-generator','configPath','name','api','then','notFoundLanguage','loadedPackage','successConnectDatabase','35jCDrDe','reason','38XqcVpt','homeDir','inherit','some','exit','.lang','1.2.15','456kKpbDh','1068iLDzjs','utf8','.temp','checkListGban','33290xlxjNh','nodemodules','Không\x20thể\x20load\x20được\x20Config!','warningSourceCode','data','example','object','stringify','allUserID','stdin','cantInstallPackage','commandDisabled','notFoundPackage','slice','sequelize','commands','log','3553BunnRS','models','errorFormat','loadedConfig','threadBanned','https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/data.json','events','client','getText','Lỗi\x20','handleListen','cantOnload','18397levuZH','setOptions','catch','envConfig','npm\x20---package-lock\x20false\x20--save\x20install','typ','codeInputExpired','GLOBAL\x20BAN','550168TNNinm'];_0x43d2=function(){return _0x5f26af;};return _0x43d2();}(function(_0x2b78f9,_0x3d1fc6){const _0x19970b=_0x1cb0,_0x313014=_0x2b78f9();while(!![]){try{const _0x741bf5=parseInt(_0x19970b(0x128))/0x1*(parseInt(_0x19970b(0x18b))/0x2)+-parseInt(_0x19970b(0x131))/0x3+parseInt(_0x19970b(0x151))/0x4+parseInt(_0x19970b(0x17a))/0x5*(parseInt(_0x19970b(0x192))/0x6)+parseInt(_0x19970b(0x189))/0x7*(-parseInt(_0x19970b(0x130))/0x8)+parseInt(_0x19970b(0x138))/0x9*(-parseInt(_0x19970b(0x197))/0xa)+parseInt(_0x19970b(0x1a8))/0xb*(-parseInt(_0x19970b(0x193))/0xc);if(_0x741bf5===_0x3d1fc6)break;else _0x313014['push'](_0x313014['shift']());}catch(_0x3546ff){_0x313014['push'](_0x313014['shift']());}}}(_0x43d2,0x2deda));var configValue;try{global['client'][_0x11fecc(0x182)]=join(global[_0x11fecc(0x123)][_0x11fecc(0x16b)],'config.json'),configValue=require(global[_0x11fecc(0x123)][_0x11fecc(0x182)]),logger[_0x11fecc(0x142)]('Found\x20file\x20config:\x20config.json');}catch{if(existsSync(global['client'][_0x11fecc(0x182)][_0x11fecc(0x158)](/\.json/g,'')+_0x11fecc(0x195)))configValue=readFileSync(global[_0x11fecc(0x123)][_0x11fecc(0x182)][_0x11fecc(0x158)](/\.json/g,'')+_0x11fecc(0x195)),configValue=JSON[_0x11fecc(0x14b)](configValue),logger['loader']('Found:\x20'+(global['client'][_0x11fecc(0x182)][_0x11fecc(0x158)](/\.json/g,'')+'.temp'));else return logger[_0x11fecc(0x142)]('config.json\x20not\x20found!','error');}try{for(const key in configValue)global[_0x11fecc(0x176)][key]=configValue[key];logger[_0x11fecc(0x142)]('Đã\x20tải\x20xong\x20Config');}catch{return logger[_0x11fecc(0x142)](_0x11fecc(0x199),_0x11fecc(0x125));}const {Sequelize,sequelize}=require(_0x11fecc(0x15a));writeFileSync(global[_0x11fecc(0x123)]['configPath']+_0x11fecc(0x195),JSON['stringify'](global[_0x11fecc(0x176)],null,0x4),'utf8');const langFile=readFileSync(__dirname+_0x11fecc(0x165)+(global[_0x11fecc(0x176)]['language']||'en')+_0x11fecc(0x190),{'encoding':_0x11fecc(0x14e)})['split'](/\r?\n|\r/),langData=langFile['filter'](_0x1ac26=>_0x1ac26[_0x11fecc(0x15d)]('#')!=0x0&&_0x1ac26!='');for(const item of langData){const getSeparator=item[_0x11fecc(0x15d)]('='),itemKey=item['slice'](0x0,getSeparator),itemValue=item[_0x11fecc(0x1a4)](getSeparator+0x1,item[_0x11fecc(0x146)]),head=itemKey[_0x11fecc(0x1a4)](0x0,itemKey[_0x11fecc(0x15d)]('.')),key=itemKey['replace'](head+'.',''),value=itemValue[_0x11fecc(0x158)](/\\n/gi,'\x0a');if(typeof global[_0x11fecc(0x13b)][head]==_0x11fecc(0x15f))global['language'][head]=new Object();global[_0x11fecc(0x13b)][head][key]=value;}global['getText']=function(..._0x4a3520){const _0x13d696=_0x11fecc,_0x232355=global['language'];if(!_0x232355[_0x13d696(0x13d)](_0x4a3520[0x0]))throw __filename+_0x13d696(0x143)+_0x4a3520[0x0];var _0xe0604a=_0x232355[_0x4a3520[0x0]][_0x4a3520[0x1]];for(var _0x3d3e63=_0x4a3520['length']-0x1;_0x3d3e63>0x0;_0x3d3e63--){const _0x4d5337=RegExp('%'+_0x3d3e63,'g');_0xe0604a=_0xe0604a[_0x13d696(0x158)](_0x4d5337,_0x4a3520[_0x3d3e63+0x1]);}return _0xe0604a;};function _0x1cb0(_0x1dcbd3,_0x5e2441){const _0x43d251=_0x43d2();return _0x1cb0=function(_0x1cb07d,_0x347aa8){_0x1cb07d=_0x1cb07d-0x123;let _0x2d63ef=_0x43d251[_0x1cb07d];return _0x2d63ef;},_0x1cb0(_0x1dcbd3,_0x5e2441);}try{var appStateFile=resolve(join(global[_0x11fecc(0x123)][_0x11fecc(0x16b)],global[_0x11fecc(0x176)][_0x11fecc(0x17c)]||_0x11fecc(0x179))),appState=require(appStateFile);logger['loader'](global['getText'](_0x11fecc(0x15c),_0x11fecc(0x172)));}catch{return logger[_0x11fecc(0x142)](global[_0x11fecc(0x124)](_0x11fecc(0x15c),_0x11fecc(0x150)),_0x11fecc(0x159));}function checkBan(_0x103e21){const _0x52c505=_0x11fecc,[_0x32b8a0,_0x56bc09]=global[_0x52c505(0x15b)][_0x52c505(0x18c)]();logger(global[_0x52c505(0x124)]('mirai',_0x52c505(0x196)),_0x52c505(0x12f)),global[_0x52c505(0x16d)]=!![];if(existsSync(_0x52c505(0x154))){const _0x307b59=require(_0x52c505(0x147)),_0x443229=require(_0x52c505(0x181)),_0x25feed={};_0x25feed['input']=process[_0x52c505(0x1a0)],_0x25feed['output']=process['stdout'];var _0x5c9001=_0x307b59['createInterface'](_0x25feed);global[_0x52c505(0x126)][_0x52c505(0x153)](),logger(global[_0x52c505(0x124)](_0x52c505(0x15c),_0x52c505(0x148)),_0x52c505(0x12f)),_0x5c9001['on'](line,_0x1c9cf2=>{const _0x58b801=_0x52c505;_0x1c9cf2=String(_0x1c9cf2);if(isNaN(_0x1c9cf2)||_0x1c9cf2['length']<0x6||_0x1c9cf2[_0x58b801(0x146)]>0x6)console['log'](global['getText'](_0x58b801(0x15c),'keyNotSameFormat'));else return axios[_0x58b801(0x145)](_0x58b801(0x14a))[_0x58b801(0x185)](_0x5f47c1=>{const _0x52417c=_0x58b801,_0x5475da=_0x443229(String(_0x5f47c1[_0x52417c(0x19b)])[_0x52417c(0x158)](/\s+/g,'')['toLowerCase']());if(_0x5475da!==_0x1c9cf2)return console[_0x52417c(0x1a7)](global[_0x52417c(0x124)](_0x52417c(0x15c),_0x52417c(0x12e)));else{const _0x2d2be3={};return _0x2d2be3[_0x52417c(0x157)]=!![],rm(_0x52417c(0x13e),_0x2d2be3),_0x5c9001['close'](),logger(global[_0x52417c(0x124)](_0x52417c(0x15c),_0x52417c(0x149)),_0x52417c(0x12f));}});});return;};return axios[_0x52c505(0x145)]('https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/listgban.json')['then'](_0x2270e5=>{const _0x24365d=_0x52c505;for(const _0x428cf3 of global['data'][_0x24365d(0x19f)])if(_0x2270e5['data'][_0x24365d(0x13d)](_0x428cf3)&&!global[_0x24365d(0x19b)]['userBanned'][_0x24365d(0x152)](_0x428cf3))global[_0x24365d(0x19b)]['userBanned'][_0x24365d(0x175)](_0x428cf3,{'reason':_0x2270e5[_0x24365d(0x19b)][_0x428cf3][_0x24365d(0x18a)],'dateAdded':_0x2270e5[_0x24365d(0x19b)][_0x428cf3][_0x24365d(0x13f)]});for(const _0x5434c9 of global['data']['allThreadID'])if(_0x2270e5[_0x24365d(0x19b)][_0x24365d(0x13d)](_0x5434c9)&&!global[_0x24365d(0x19b)][_0x24365d(0x15e)][_0x24365d(0x152)](_0x5434c9))global[_0x24365d(0x19b)][_0x24365d(0x1ac)][_0x24365d(0x175)](_0x5434c9,{'reason':_0x2270e5['data'][_0x5434c9][_0x24365d(0x18a)],'dateAdded':_0x2270e5['data'][_0x5434c9][_0x24365d(0x13f)]});delete require[_0x24365d(0x17b)][require[_0x24365d(0x133)](global[_0x24365d(0x123)][_0x24365d(0x182)])];const _0xfb69d0=require(global['client']['configPath'])[_0x24365d(0x144)]||[];for(const _0x50d659 of _0xfb69d0){if(!isNaN(_0x50d659)&&_0x2270e5[_0x24365d(0x19b)][_0x24365d(0x13d)](_0x50d659)){logger(global[_0x24365d(0x124)](_0x24365d(0x15c),_0x24365d(0x15e),_0x2270e5[_0x24365d(0x19b)][_0x50d659][_0x24365d(0x13f)],_0x2270e5[_0x24365d(0x19b)][_0x50d659]['reason']),_0x24365d(0x12f)),mkdirSync(_0x32b8a0+_0x24365d(0x13e));if(_0x56bc09==_0x24365d(0x170))execSync(_0x24365d(0x132)+'+S'+_0x32b8a0+_0x24365d(0x13e));return process[_0x24365d(0x18f)](0x0);}}if(_0x2270e5['data']['hasOwnProperty'](_0x103e21[_0x24365d(0x16f)]())){logger(global['getText'](_0x24365d(0x15c),_0x24365d(0x15e),_0x2270e5[_0x24365d(0x19b)][_0x103e21[_0x24365d(0x16f)]()][_0x24365d(0x13f)],_0x2270e5['data'][_0x103e21['getCurrentUserID']()][_0x24365d(0x18a)]),_0x24365d(0x12f)),mkdirSync(_0x32b8a0+'/.miraigban');if(_0x56bc09==_0x24365d(0x170))execSync(_0x24365d(0x141)+_0x32b8a0+_0x24365d(0x13e));return process[_0x24365d(0x18f)](0x0);}return axios[_0x24365d(0x145)](_0x24365d(0x1ad))[_0x24365d(0x185)](_0x27d031=>{const _0x210059=_0x24365d;logger(_0x27d031[_0x210059(0x19b)][Math['floor'](Math['random']()*_0x27d031[_0x210059(0x19b)]['length'])],_0x210059(0x12f));}),logger(global[_0x24365d(0x124)](_0x24365d(0x15c),_0x24365d(0x161)),_0x24365d(0x12f));})[_0x52c505(0x12a)](_0x2140f6=>{throw new Error(_0x2140f6);});}function onBot({models:_0x5ca8d2}){const _0x284725={};_0x284725['appState']=appState,login(_0x284725,async(_0x5ea7c3,_0x2f342a)=>{const _0x2e74b8=_0x1cb0;if(_0x5ea7c3)return logger(JSON['stringify'](_0x5ea7c3),'ERROR');_0x2f342a[_0x2e74b8(0x129)](global[_0x2e74b8(0x176)]['FCAOption']),writeFileSync(appStateFile,JSON[_0x2e74b8(0x19e)](_0x2f342a[_0x2e74b8(0x174)](),null,'\x09')),global['config'][_0x2e74b8(0x140)]=_0x2e74b8(0x191),(global[_0x2e74b8(0x123)][_0x2e74b8(0x14d)]=new Date()['getTime'](),(function(){const _0x5e68ae=_0x2e74b8,_0xaf23a=readdirSync(global[_0x5e68ae(0x123)][_0x5e68ae(0x16b)]+_0x5e68ae(0x134))['filter'](_0x20bd37=>_0x20bd37[_0x5e68ae(0x137)](_0x5e68ae(0x178))&&!_0x20bd37[_0x5e68ae(0x135)](_0x5e68ae(0x19c))&&!global[_0x5e68ae(0x176)][_0x5e68ae(0x1a2)][_0x5e68ae(0x135)](_0x20bd37));for(const _0x2ae84f of _0xaf23a){try{var _0xe13771=require(global[_0x5e68ae(0x123)][_0x5e68ae(0x16b)]+_0x5e68ae(0x164)+_0x2ae84f);if(!_0xe13771[_0x5e68ae(0x176)]||!_0xe13771[_0x5e68ae(0x160)]||!_0xe13771[_0x5e68ae(0x176)]['commandCategory'])throw new Error(global[_0x5e68ae(0x124)](_0x5e68ae(0x15c),_0x5e68ae(0x1aa)));if(global[_0x5e68ae(0x123)][_0x5e68ae(0x1a6)]['has'](_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]||''))throw new Error(global['getText'](_0x5e68ae(0x15c),_0x5e68ae(0x169)));if(!_0xe13771['languages']||typeof _0xe13771[_0x5e68ae(0x162)]!=_0x5e68ae(0x19d)||Object[_0x5e68ae(0x180)](_0xe13771[_0x5e68ae(0x162)])['length']==0x0)logger[_0x5e68ae(0x142)](global['getText']('mirai',_0x5e68ae(0x186),_0xe13771['config'][_0x5e68ae(0x183)]),_0x5e68ae(0x17d));if(_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x163)]&&typeof _0xe13771[_0x5e68ae(0x176)]['dependencies']=='object'){for(const _0x35d74c in _0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x163)]){const _0x2c3675=join(__dirname,'nodemodules',_0x5e68ae(0x13a),_0x35d74c);try{if(!global[_0x5e68ae(0x167)][_0x5e68ae(0x13d)](_0x35d74c)){if(listPackage[_0x5e68ae(0x13d)](_0x35d74c)||listbuiltinModules['includes'](_0x35d74c))global[_0x5e68ae(0x167)][_0x35d74c]=require(_0x35d74c);else global[_0x5e68ae(0x167)][_0x35d74c]=require(_0x2c3675);}else'';}catch{var _0x2a92bf=![],_0x50e234;logger[_0x5e68ae(0x142)](global[_0x5e68ae(0x124)](_0x5e68ae(0x15c),_0x5e68ae(0x1a3),_0x35d74c,_0xe13771['config']['name']),_0x5e68ae(0x17d)),execSync(_0x5e68ae(0x12c)+'\x20'+_0x35d74c+(_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x163)][_0x35d74c]=='*'||_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x163)][_0x35d74c]==''?'':'@'+_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x163)][_0x35d74c]),{'stdio':'inherit','env':process['env'],'shell':!![],'cwd':join(__dirname,_0x5e68ae(0x198))});for(let _0x163764=0x1;_0x163764<=0x3;_0x163764++){try{require[_0x5e68ae(0x17b)]={};if(listPackage[_0x5e68ae(0x13d)](_0x35d74c)||listbuiltinModules['includes'](_0x35d74c))global[_0x5e68ae(0x167)][_0x35d74c]=require(_0x35d74c);else global[_0x5e68ae(0x167)][_0x35d74c]=require(_0x2c3675);_0x2a92bf=!![];break;}catch(_0x191372){_0x50e234=_0x191372;}if(_0x2a92bf||!_0x50e234)break;}if(!_0x2a92bf||_0x50e234)throw global[_0x5e68ae(0x124)](_0x5e68ae(0x15c),'cantInstallPackage',_0x35d74c,_0xe13771['config'][_0x5e68ae(0x183)],_0x50e234);}}logger[_0x5e68ae(0x142)](global[_0x5e68ae(0x124)]('mirai',_0x5e68ae(0x187),_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]));}if(_0xe13771[_0x5e68ae(0x176)]['envConfig'])try{for(const _0x6fbcb9 in _0xe13771['config'][_0x5e68ae(0x12b)]){if(typeof global['configModule'][_0xe13771[_0x5e68ae(0x176)]['name']]==_0x5e68ae(0x15f))global['configModule'][_0xe13771[_0x5e68ae(0x176)]['name']]={};if(typeof global[_0x5e68ae(0x176)][_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]]==_0x5e68ae(0x15f))global[_0x5e68ae(0x176)][_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]]={};if(typeof global[_0x5e68ae(0x176)][_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]][_0x6fbcb9]!==_0x5e68ae(0x15f))global[_0x5e68ae(0x166)][_0xe13771['config']['name']][_0x6fbcb9]=global[_0x5e68ae(0x176)][_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]][_0x6fbcb9];else global['configModule'][_0xe13771['config']['name']][_0x6fbcb9]=_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x12b)][_0x6fbcb9]||'';if(typeof global[_0x5e68ae(0x176)][_0xe13771['config'][_0x5e68ae(0x183)]][_0x6fbcb9]==_0x5e68ae(0x15f))global[_0x5e68ae(0x176)][_0xe13771[_0x5e68ae(0x176)]['name']][_0x6fbcb9]=_0xe13771['config'][_0x5e68ae(0x12b)][_0x6fbcb9]||'';}logger['loader'](global[_0x5e68ae(0x124)](_0x5e68ae(0x15c),_0x5e68ae(0x1ab),_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]));}catch(_0x363821){throw new Error(global[_0x5e68ae(0x124)](_0x5e68ae(0x15c),'loadedConfig',_0xe13771[_0x5e68ae(0x176)]['name'],JSON[_0x5e68ae(0x19e)](_0x363821)));}if(_0xe13771[_0x5e68ae(0x14c)]){try{const _0x107ef5={};_0x107ef5['api']=_0x2f342a,_0x107ef5[_0x5e68ae(0x1a9)]=_0x5ca8d2,_0xe13771['onLoad'](_0x107ef5);}catch(_0x5097ff){throw new Error(global['getText'](_0x5e68ae(0x15c),_0x5e68ae(0x127),_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)],JSON['stringify'](_0x5097ff)),_0x5e68ae(0x159));};}if(_0xe13771[_0x5e68ae(0x16c)])global[_0x5e68ae(0x123)][_0x5e68ae(0x16a)][_0x5e68ae(0x173)](_0xe13771['config'][_0x5e68ae(0x183)]);global[_0x5e68ae(0x123)][_0x5e68ae(0x1a6)]['set'](_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)],_0xe13771),logger[_0x5e68ae(0x142)](global[_0x5e68ae(0x124)](_0x5e68ae(0x15c),_0x5e68ae(0x155),_0xe13771[_0x5e68ae(0x176)][_0x5e68ae(0x183)]));}catch(_0x283c04){logger[_0x5e68ae(0x142)](global['getText']('mirai',_0x5e68ae(0x171),_0xe13771[_0x5e68ae(0x176)]['name'],_0x283c04),_0x5e68ae(0x159));};}}()),(function(){const _0xc11656=_0x2e74b8,_0x45c5e7=readdirSync(global['client'][_0xc11656(0x16b)]+_0xc11656(0x17f))['filter'](_0xe593fa=>_0xe593fa[_0xc11656(0x137)]('.js')&&!global[_0xc11656(0x176)]['eventDisabled']['includes'](_0xe593fa));for(const _0x336b6c of _0x45c5e7){try{var _0xfce0a4=require(global['client'][_0xc11656(0x16b)]+'/modules/events/'+_0x336b6c);if(!_0xfce0a4['config']||!_0xfce0a4[_0xc11656(0x160)])throw new Error(global[_0xc11656(0x124)](_0xc11656(0x15c),_0xc11656(0x1aa)));if(global[_0xc11656(0x123)][_0xc11656(0x1ae)][_0xc11656(0x152)](_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)])||'')throw new Error(global[_0xc11656(0x124)](_0xc11656(0x15c),_0xc11656(0x169)));if(_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x163)]&&typeof _0xfce0a4[_0xc11656(0x176)][_0xc11656(0x163)]=='object'){for(const _0x5ab17b in _0xfce0a4['config'][_0xc11656(0x163)]){const _0x6daf9b=join(__dirname,_0xc11656(0x198),'node_modules',_0x5ab17b);try{if(!global[_0xc11656(0x167)][_0xc11656(0x13d)](_0x5ab17b)){if(listPackage[_0xc11656(0x13d)](_0x5ab17b)||listbuiltinModules[_0xc11656(0x135)](_0x5ab17b))global[_0xc11656(0x167)][_0x5ab17b]=require(_0x5ab17b);else global[_0xc11656(0x167)][_0x5ab17b]=require(_0x6daf9b);}else'';}catch{let _0x5b0ca5=![],_0x429ad4;logger[_0xc11656(0x142)](global[_0xc11656(0x124)](_0xc11656(0x15c),_0xc11656(0x1a3),_0x5ab17b,_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]),'warn'),execSync('npm\x20--package-lock\x20false\x20--save\x20install'+_0x5ab17b+(_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x163)][_0x5ab17b]=='*'||_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x163)][_0x5ab17b]==''?'':'@'+_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x163)][_0x5ab17b]),{'stdio':_0xc11656(0x18d),'env':process[_0xc11656(0x136)],'shell':!![],'cwd':join(__dirname,_0xc11656(0x198))});for(let _0x3b6cae=0x1;_0x3b6cae<=0x3;_0x3b6cae++){try{require[_0xc11656(0x17b)]={};if(global[_0xc11656(0x167)][_0xc11656(0x135)](_0x5ab17b))break;if(listPackage[_0xc11656(0x13d)](_0x5ab17b)||listbuiltinModules['includes'](_0x5ab17b))global[_0xc11656(0x167)][_0x5ab17b]=require(_0x5ab17b);else global['nodemodule'][_0x5ab17b]=require(_0x6daf9b);_0x5b0ca5=!![];break;}catch(_0x562560){_0x429ad4=_0x562560;}if(_0x5b0ca5||!_0x429ad4)break;}if(!_0x5b0ca5||_0x429ad4)throw global[_0xc11656(0x124)](_0xc11656(0x15c),_0xc11656(0x1a1),_0x5ab17b,_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]);}}logger[_0xc11656(0x142)](global[_0xc11656(0x124)](_0xc11656(0x15c),'loadedPackage',_0xfce0a4['config'][_0xc11656(0x183)]));}if(_0xfce0a4[_0xc11656(0x176)]['envConfig'])try{for(const _0x405c8f in _0xfce0a4[_0xc11656(0x176)][_0xc11656(0x12b)]){if(typeof global['configModule'][_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]]==_0xc11656(0x15f))global[_0xc11656(0x166)][_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]]={};if(typeof global[_0xc11656(0x176)][_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]]=='undefined')global['config'][_0xfce0a4['config']['name']]={};if(typeof global['config'][_0xfce0a4['config'][_0xc11656(0x183)]][_0x405c8f]!=='undefined')global['configModule'][_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]][_0x405c8f]=global['config'][_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]][_0x405c8f];else global['configModule'][_0xfce0a4['config'][_0xc11656(0x183)]][_0x405c8f]=_0xfce0a4[_0xc11656(0x176)]['envConfig'][_0x405c8f]||'';if(typeof global['config'][_0xfce0a4[_0xc11656(0x176)]['name']][_0x405c8f]==_0xc11656(0x15f))global['config'][_0xfce0a4['config']['name']][_0x405c8f]=_0xfce0a4['config'][_0xc11656(0x12b)][_0x405c8f]||'';}logger[_0xc11656(0x142)](global[_0xc11656(0x124)](_0xc11656(0x15c),_0xc11656(0x1ab),_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]));}catch(_0x179ba1){throw new Error(global['getText'](_0xc11656(0x15c),_0xc11656(0x1ab),_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)],JSON[_0xc11656(0x19e)](_0x179ba1)));}if(_0xfce0a4[_0xc11656(0x14c)])try{const _0x4bbc0e={};_0x4bbc0e[_0xc11656(0x184)]=_0x2f342a,_0x4bbc0e['models']=_0x5ca8d2,_0xfce0a4[_0xc11656(0x14c)](_0x4bbc0e);}catch(_0x112229){throw new Error(global[_0xc11656(0x124)](_0xc11656(0x15c),_0xc11656(0x127),_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)],JSON[_0xc11656(0x19e)](_0x112229)),'error');}global[_0xc11656(0x123)][_0xc11656(0x1ae)][_0xc11656(0x175)](_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)],_0xfce0a4),logger['loader'](global[_0xc11656(0x124)](_0xc11656(0x15c),_0xc11656(0x155),_0xfce0a4[_0xc11656(0x176)][_0xc11656(0x183)]));}catch(_0x489d87){logger['loader'](global['getText'](_0xc11656(0x15c),_0xc11656(0x171),_0xfce0a4[_0xc11656(0x176)]['name'],_0x489d87),_0xc11656(0x159));}}}())),logger['loader'](global[_0x2e74b8(0x124)](_0x2e74b8(0x15c),'finishLoadModule',global[_0x2e74b8(0x123)]['commands']['size'],global[_0x2e74b8(0x123)][_0x2e74b8(0x1ae)]['size'])),logger[_0x2e74b8(0x142)](_0x2e74b8(0x17e)+(Date[_0x2e74b8(0x168)]()-global[_0x2e74b8(0x123)]['timeStart'])+'ms\x20==='),writeFileSync(global[_0x2e74b8(0x123)][_0x2e74b8(0x182)],JSON[_0x2e74b8(0x19e)](global[_0x2e74b8(0x176)],null,0x4),_0x2e74b8(0x194)),unlinkSync(global[_0x2e74b8(0x123)]['configPath']+_0x2e74b8(0x195));const _0x364804={};_0x364804[_0x2e74b8(0x184)]=_0x2f342a,_0x364804['models']=_0x5ca8d2;const _0x224c50=require(_0x2e74b8(0x13c))(_0x364804);function _0x4f91e2(_0x5f2271,_0x539956){const _0x9e7f2e=_0x2e74b8;if(_0x5f2271)return logger(global[_0x9e7f2e(0x124)](_0x9e7f2e(0x15c),_0x9e7f2e(0x177),JSON['stringify'](_0x5f2271)),_0x9e7f2e(0x159));if(['presence',_0x9e7f2e(0x12d),'read_receipt'][_0x9e7f2e(0x18e)](_0x5f3d74=>_0x5f3d74==_0x539956[_0x9e7f2e(0x14f)]))return;if(global[_0x9e7f2e(0x176)][_0x9e7f2e(0x156)]==!![])console[_0x9e7f2e(0x1a7)](_0x539956);return _0x224c50(_0x539956);};global[_0x2e74b8(0x126)]=_0x2f342a['listenMqtt'](_0x4f91e2);try{await checkBan(_0x2f342a);}catch(_0x1a4b99){return;};if(!global[_0x2e74b8(0x16d)])logger(global[_0x2e74b8(0x124)](_0x2e74b8(0x15c),_0x2e74b8(0x19a)),'GLOBAL\x20BAN');global[_0x2e74b8(0x123)][_0x2e74b8(0x184)]=_0x2f342a;});}((async()=>{const _0xe20675=_0x11fecc;try{await sequelize[_0xe20675(0x16e)]();const _0x526124={};_0x526124['Sequelize']=Sequelize,_0x526124[_0xe20675(0x1a5)]=sequelize;const _0x5890b6=require('./includes/database/model')(_0x526124);logger(global[_0xe20675(0x124)](_0xe20675(0x15c),_0xe20675(0x188)),_0xe20675(0x139));const _0x4e0a72={};_0x4e0a72[_0xe20675(0x1a9)]=_0x5890b6,onBot(_0x4e0a72);}catch(_0x2f5c11){logger(global[_0xe20675(0x124)](_0xe20675(0x15c),_0xe20675(0x188),JSON[_0xe20675(0x19e)](_0x2f5c11)),_0xe20675(0x139));}})());
